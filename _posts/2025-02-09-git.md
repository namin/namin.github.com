---
layout: post
title: Git Contribution Guidelines and Cheatsheet
---

I'll outline the key commands for working on collaborative repositories where each collaborator has their own fork. I'll use the Github repository [namin/holey](https://github.com/namin/holey) as an example.

## Fetching Repos and Branches

Typically, clone a read-only repo with HTTPS and a read/write repo with SSH. To work with someone else's repo:

```bash
git clone --recursive https://github.com/namin/holey.git
```

The `--recursive` flag is explained in the *Recursive Submodules* section below.

After cloning, assuming you have your own fork under `YOUR_USERNAME`, add your remote (conventionally named `my`, while the original remote from `clone` is named `origin`):

```bash
git remote add my git@github.com:YOUR_USERNAME/holey.git
```

To get all branches from all repos:

```bash
git fetch --all
```

Update (fetch and merge) the current branch:

```bash
git pull
```

Merge from another branch, including remote ones:

```bash
git merge origin/main
```

## Making Changes

Switch to a branch:

```bash
git checkout main
```

Create a new branch:

```bash
git checkout -b YOUR_BRANCH
```

Add files and commit changes:

```bash
git add YOUR_FILE
git commit -m 'log message describing your changes'
```

Useful options:
- Use `-a` to include all changes to existing tracked files
- Create a `.gitignore` file in the root to specify ignored file patterns
- Use `git add -p` for interactive staging
- Use `git stash` to temporarily store changes and `git stash apply` to restore them

## Pushing Changes

Push to your fork:

```bash
git push -u my YOUR_BRANCH
```

## Recursive Submodules

The `--recursive` flag during cloning is needed for repos with submodules (like the `benchmarks` directory in our example). If you forget it, you can run:

```bash
git submodule init
git submodule update
```

When working in a submodule directory (e.g., `benchmarks/PythonProgrammingPuzzles`), make changes as usual. Remember to:
1. Commit changes to the submodule's repository
2. Return to the main repo and commit the submodule update like any other change (`git commit -a` works)

Note that submodules reference specific commits, not branches. Use `git submodule update` to sync submodules to their specified commits.

## Commands to Avoid

Avoid using `git add .` unless you have a carefully maintained `.gitignore` file. In particular, never commit generated artifacts like `__pycache__` directories.